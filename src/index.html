<!DOCTYPE html>
<html>
<head>
</head>
<body>
<div id="app"></div>

<svg width="100%" height="100">
    // make sure to give a distinct ID for the second graph placeholder
    <g id=DIAGRAM1 transform="translate(20,20)"/>
</svg>

<scrpt src="../vendor/d3/d3.js"></scrpt>
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="../lib/dagre-d3.min.js"></script>
<style id="css">
    /* This sets the color for "TK" nodes to a light blue green. */
    g.type-TK > rect {
        fill: #00ffd0;
    }

    text {
        font-weight: 300;
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serf;
        font-size: 14px;
    }

    .node rect {
        stroke: #999;
        fill: #fff;
        stroke-width: 1.5px;
    }

    .edgePath path {
        stroke: #333;
        stroke-width: 1.5px;
    }
</style>
<script>

    // Create the renderer
    var render = new dagreD3.render();



    // Create a new directed graph
    //var g = new dagre.graphlib.Graph();

    // Create the input graph
    var g = new dagreD3.graphlib.Graph()
    .setGraph({})
    .setDefaultEdgeLabel(function() { return {}; });

    // Add nodes to the graph. The first argument is the node id. The second is
    // metadata about the node. In this case we're going to add labels to each of
    // our nodes.
    g.setNode("kspacey",    { label: "Kevin Spacey" });
    g.setNode("swilliams",  { label: "Saul Williams som är en \nfinurlig \n åöä filivipp som gillar \natt hoppa och dansa"});
    g.setNode("bpitt",      { label: "Brad Pitt",     width: 78, height: 100 });
    g.setNode("hford",      { label: "Harrison Ford", width: 138, height: 100 });
    g.setNode("lwilson",    { label: "Luke Wilson",   width: 114, height: 100 });
    g.setNode("kbacon",     { label: "Kevin Bacon",   width: 91, height: 100 });

    // Add edges to the graph.
    g.setEdge("kspacey",   "swilliams");
    g.setEdge("swilliams", "kbacon");
    g.setEdge("bpitt",     "kbacon");
    g.setEdge("hford",     "lwilson");
    g.setEdge("lwilson",   "kbacon");

    g.nodes().forEach(function(v) {
        var node = g.node(v);
        // Round the corners of the nodes
        node.rx = node.ry = 5;
    });

    //dagre.layout(g);

    // Create the renderer
    var render = new dagreD3.render();

    // Set up an SVG group so that we can translate the final graph.
    var svg = d3.select("svg"),
            svgGroup = svg.append("g");

    // Run the renderer. This is what draws the final graph.
    render(d3.select("svg g#DIAGRAM1"), g);

    // Center the graph
    var xCenterOffset = (svg.attr("width") - g.graph().width) / 2;
    svgGroup.attr("transform", "translate(" + xCenterOffset + ", 20)");
    svg.attr("height", g.graph().height + 40);
</script>



</body>
</html>