<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Usage</title>
    <meta name="description" content="">
    <meta name="author" content="ink, cookbook, recipes">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">
    <lnk rel="shortcut icon" href="http://cdn.ink.sapo.pt/3.1.1/img/favicon.ico"></lnk>
        <link rel="apple-touch-icon" href="http://cdn.ink.sapo.pt/3.1.1/img/touch-icon-iphone.png">
        <link rel="apple-touch-icon" sizes="76x76" href="http://cdn.ink.sapo.pt/3.1.1/img/touch-icon-ipad.png">
        <link rel="apple-touch-icon" sizes="120x120"
              href="http://cdn.ink.sapo.pt/3.1.1/img/touch-icon-iphone-retina.png">
        <link rel="apple-touch-icon" sizes="152x152" href="http://cdn.ink.sapo.pt/3.1.1/img/touch-icon-ipad-retina.png">
        <link rel="apple-touch-startup-image" href="http://cdn.ink.sapo.pt/3.1.1/img/splash.320x460.png"
              media="screen and (min-device-width: 200px) and (max-device-width: 320px) and (orientation:portrait)">
        <link rel="apple-touch-startup-image" href="http://cdn.ink.sapo.pt/3.1.1/img/splash.768x1004.png"
              media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
        <link rel="apple-touch-startup-image" href="http://cdn.ink.sapo.pt/3.1.1/img/splash.1024x748.png"
              media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
        <!-- load Ink's css from the cdn -->
        <lnk rel="stylesheet" type="text/css" title="mermaid-svg-internal-css" href="css/ink-flex.min.css"></lnk>
        <link rel="stylesheet" type="text/css" href="css/mermaid.css">
        <link rel="stylesheet" type="text/css" href="http://cdn.ink.sapo.pt/3.1.1/css/ink-flex.min.css">
        <link rel="stylesheet" type="text/css" title="mermaid-svg-internal-css" href="3.1.1/css/font-awesome.min.css">
        <!-- load Ink's css for IE8 -->
        <!--[if lt IE 9 ]>
        <link rel="stylesheet" title="mermaid-svg-internal-css" href="css/ink-ie.min.css" type="text/css" media="screen"
              title="no title" charset="utf-8">
        <![endif]-->
        <link rel="stylesheet" href="css/monokai_sublime.css">
        <script src="js/highlight.pack.js"></script>
        <link rel="stylesheet" href="css/seq.css" type="text/css" media="screen" title="no title" charset="utf-8">
        <!-- test browser flexbox support and load legacy grid if unsupported -->
        <script type="text/javascript" src="http://cdn.ink.sapo.pt/3.1.1/js/modernizr.js"></script>
        <script type="text/javascript">
            Modernizr.load({
                test: Modernizr.flexbox,
                nope: 'http://cdn.ink.sapo.pt/3.1.1/css/ink-legacy.min.css'
            });
        </script>
        <!-- load Ink's javascript files from the cdn -->
        <script type="text/javascript" src="http://cdn.ink.sapo.pt/3.1.1/js/holder.js"></script>
        <script type="text/javascript" src="http://cdn.ink.sapo.pt/3.1.1/js/ink-all.min.js"></script>
        <script type="text/javascript" src="http://cdn.ink.sapo.pt/3.1.1/js/autoload.js"></script>
        <scrpt type="text/javascript" src="https://cdn.rawgit.com/knsv/mermaid/0.5.0/dist/mermaid.js"></scrpt>
        <script type="text/javascript" src="js/mermaid.js"></script>
        <style type="text/css">
            body {
                background: #ffffff;
                font-family: sans-serif;
                font-size: 90%;
                
            }
            header h1 small:before {
                content: "|";
                margin: 0 0.5em;
                font-size: 1.5em;
            }
            h1 {
                color: #104e8b
            }
            article header {
                padding: 0;
                overflow: hidden;
            }
            article footer {
                background: none;
            }
            article {
                padding-bottom: 2em;
                border-bottom: 1px solid #ccc;
            }
            table, th, td {
                border: 1px solid #8b8989;
            }
            .date {
                float: right;
            }
            summary {
                font-weight: 700;
                line-height: 1.5;
            }
            .push, footer {
                height: 120px;
                margin-top: 0;
                margin-bottom: 10;
            }
            footer {
                background: #a9a9a9;
            }
            .cluster {
                fill: #fcac93;
                rx:4px;
                stroke: grey;
            }
            svg {
                padding-left:2px;
            }
            /* Gantt styles */
            .grid .tick {
                stroke: lightgrey;
                opacity: 0.3;
                shape-rendering: crispEdges;
            }
            .grid path {
                stroke-width: 0;
            }


            #tag {
                color: white;
                background: #FA283D;
                width: 150px;
                position: absolute;
                display: none;
                padding:3px 6px;
                margin-left: -80px;
                font-size: 11px;
            }



            #tag:before {
                border: solid transparent;
                content: ' ';
                height: 0;
                left: 50%;
                margin-left: -5px;
                position: absolute;
                width: 0;
                border-width: 10px;
                border-bottom-color: #FA283D;
                top: -20px;
            }
            .taskText {
                fill:white;
                text-anchor:middle;
            }
            .taskTextOutsideRight {
                fill:black;
                text-anchor:start;
            }
            .taskTextOutsideLeft {
                fill:black;
                text-anchor:end;
            }
        </style>
        <script>
            var g = function (hljs) {
                var r = "[a-z'][a-zA-Z0-9_']*", c = "(" + r + ":" + r + "|" + r + ")";
                var keyw = {
                    keyword: 'graph sequenceDiagram participant loop end',
                    typename: 'Note',
                    literal: "false true left right"
                };
                return {
                    case_insensitive: false,
                    aliases: ["mermaid"],
                    k: keyw,
                    i: 'for',
                    c: [{
                        cN: "function",
                        b: "^" + r + "\\s*\\(",
                        e: "->",
                        rB: !0,
                        i: "\\(|#|//|/\\*|\\\\|:|;",
                        starts: {
                            e: ";|\\.", k: keyw, c: [
                                {cN: "comment", b: "%", e: "$"}
                            ]
                        }
                    },
                        {cN: "comment", b: "%", e: "$"}
                    ]
                };
            };
            hljs.registerLanguage('mm', g);
            hljs.initHighlightingOnLoad();
            Ink.requireModules(['Ink.Dom.Loaded_1'], function (DomLoaded) {
                DomLoaded.run(function () {
                    var elements = document.querySelectorAll('article h1,h2');
                    var i;
                    var sections = document.getElementById('sections');
                    for (i = 0; i < elements.length; i++) {
                        var e = elements[i];
                        sections.innerHTML = sections.innerHTML + '<li><a href="#' + e.id + '">' + e.innerHTML + '</a></li>';
//$("#sections").append('<li><a href="http://www.idg.se">'+$e.text()+'</a></li>');
                    }
                    Ink.requireModules(['Ink.UI.Sticky_1'], function (Sticky) {
                        new Sticky('#sidenav')
                    });
                    console.log('Registering new lang');
                });
            });
            var mermaid_config = {
                startOnLoad:true,
                htmlLabels:true
            }
            mermaid.sequenceConfig = {
                diagramMarginX:50,
                diagramMarginY:10,
                boxTextMargin:5,
                noteMargin:10,
                messageMargin:35,
                mirrorActors:true,
                width:150,
                // Height of actor boxes
                height:30
            };
            mermaid.ganttConfig = {
                titleTopMargin:25,
                barHeight:20,
                barGap:4,
                topPadding:50,
                sidePadding:100,
                gridLineStartPadding:35,
                fontSize:11,
                numberSectionStyles:4,
                axisFormatter: [
                    // Within a day
                    ["%I:%M", function (d) {
                        return d.getHours();
                    }],
                    // Monday a week
                    ["w. %U", function (d) {
                        return d.getDay() == 1;
                    }],
                    // Day within a week (not monday)
                    ["%a %d", function (d) {
                        return d.getDay() && d.getDate() != 1;
                    }],
                    // within a month
                    ["%b %d", function (d) {
                        return d.getDate() != 1;
                    }],
                    // Month
                    ["%m-%y", function (d) {
                        return d.getMonth();
                    }]
                ]
            };
        </script>
</head>
<body>
<nav class="ink-navigation xlarge-push-right large-push-right half-top-space">
    <ul class="menu horizontal blue">
        <li><a href="index.html">Home</a></li>
        <li class="active"><a href="usage.html">Usage</a></li>
        <li><a href="flowchart.html">Flowchart</a></li>
        <li><a href="sequenceDiagram.html">Sequence Diagram</a></li>
        <li><a href="gantt.html">Gantt Diagram</a></li>
        <li><a href="mermaidCLI.html">mermaid CLI</a></li>
        <li><a href="demos.html">Demos</a></li>
        <li><a href="development.html">Development</a></li>
    </ul>
</nav>
<div class="ink-grid">
    <!--[if lte IE 9 ]>
    <div class="ink-alert basic" role="alert">
    <button class="ink-dismiss">&times;</button>
    <p>
    <strong>You are using an outdated Internet Explorer version.</strong>
    Please <a href="http://browsehappy.com/">upgrade to a modern browser</a> to improve your web experience.
    </p>
    </div>
    -->
    <!-- Add your site or application content here -->
    <header class="clearfix vertical-padding">
        <h1 class="logo xlarge-push-left large-push-left">
            <a href="https://github.com/knsv/mermaid" >mermaid</a>
            <small>Diagrams and flowcharts from textsimilar to markdown</small>
        </h1>

    </header>
    <section class="column-group gutters article">
        <div class="xlarge-80 large-80 medium-70 small-100 tiny-100">
            <article id="main" width="1096">
                <h1 id="installation">Installation</h1>
<p>Either use the npm or bower package managers as per below:</p>
<pre><code>bower install mermaid --save-dev</code></pre><pre><code>npm install mermaid --save-dev</code></pre><p>Or download javascript files:</p>
<ul>
<li><a href="https://cdn.rawgit.com/knsv/mermaid/0.d.0/dist/mermaid.min.js">mermaid including dependencies</a></li>
</ul>
<p>There are some bundles to choose from:</p>
<ul>
<li>mermaid.js, mermaid.min.js This bundle contains everything you need to run mermaid</li>
<li>mermaid.slim.js, mermaid.slim.min.js This bundle does not contain d3 which is usefull for sites that already have d3 in place</li>
<li>mermaidAPI.js, mermaidAPI.min.js, This bundle does not contain the web integration provided in the other packages but has a render function instead returns svg code.</li>
</ul>
<p><strong> Important: </strong></p>
<blockquote>
<p>It&#39;s best to use a specific tag or commit hash in the URL (not a branch). Files are cached permanently after the first request.</p>
</blockquote>
<p>Read more about that at <a href="https://rawgit.com/">https://rawgit.com/</a></p>
<h1 id="usage">Usage</h1>
<p>Include mermaid on your web page:</p>
<pre><code>&lt;script src=&quot;mermaid.min.js&quot;&gt;&lt;/script&gt;
&lt;script&gt;mermaid.initialize({startOnLoad:true});&lt;/script&gt;</code></pre><p>Further down on your page mermaid will look for tags with <code>class=&quot;mermaid&quot;</code>. From these tags mermaid will try to
read the chart definiton which will be replaced with the svg chart.</p>
<p>A chart defined like this:</p>
<pre><code>&lt;div class=&quot;mermaid&quot;&gt;
    CHART DEFINITION GOES HERE
&lt;/div&gt;</code></pre><p>Would end up like this:</p>
<pre><code>&lt;div class=&quot;mermaid&quot; id=&quot;mermaidChart0&quot;&gt;
    &lt;svg&gt;
        Chart ends up here
    &lt;/svg&gt;
&lt;/div&gt;</code></pre><p>An id is also added to mermaid tags without id.</p>
<h2 id="calling-mermaid-init-">Calling <code>mermaid.init</code></h2>
<p>By default, <code>mermaid.init</code> will be called when the document is ready, finding all elements with
<code>class=&quot;mermaid&quot;</code>. If you are adding content after mermaid is loaded, or otherwise need
finer-grained control of this behavior, you can call <code>init</code> yourself with:</p>
<ul>
<li>a configuration object</li>
<li>some nodes, as<ul>
<li>a node</li>
<li>an a array-like of nodes</li>
<li>or W3C selector that will find your nodes</li>
</ul>
</li>
</ul>
<p>Example:</p>
<pre><code>mermaid.init({noteMargin: 10}, ".someOtherClass");</code></pre><p>Or with no config object, and a jQuery selection:</p>
<pre><code>mermaid.init(undefined, $("#someId .yetAnotherClass"));</code></pre><h1 id="usage-with-browserify">Usage with browserify</h1>
<p>Minimalistic javascript:</p>
<pre><code>
mermaid = require('mermaid');</code></pre><h1 id="api-usage">API usage</h1>
<p>Include mermaid on your web page:</p>
<pre><code>&lt;script src=&quot;mermaidAPI.js&quot;&gt;&lt;/script&gt;

&lt;script&gt;
    mermaidAPI.initialize({
        startOnLoad:false
        });
    $(function(){
        var graphDefinition = 'graph TB\na-->b';
        var graph = mermaidAPI.render(graphDefinition);
        $("#graphDiv").html(graph);
    });
&lt;/script&gt;</code></pre><h1 id="sample-api-usage-with-browserify">Sample API usage with browserify</h1>
<pre><code>$ = require('jquery');
mermaidAPI = require('mermaid').mermaidAPI;
mermaidAPI.initialize({
    startOnLoad:false
    });

$(function(){
    var graphDefinition = 'graph TB\na-->b';
    var cb = function(html){
        console.log(html);
    }
    mermaidAPI.render('id1',graphDefinition,cb);
});</code></pre><h1 id="example-of-marked-renderer">Example of marked renderer</h1>
<p>This is the renderer used for transforming the documentation from markdown to html with mermaid diagrams in the html.</p>
<pre><code>    var renderer = new marked.Renderer();
    renderer.code = function (code, language) {
        if(code.match(/^sequenceDiagram/)||code.match(/^graph/)){
            return '&lt;div class="mermaid">'+code+'&lt;/div>';
        }
        else{
            return '&lt;pre>&lt;code>'+code+'&lt;/code>&lt;/pre>';
        }
    };</code></pre><p>Another example in coffeescript that also includes the mermaid script tag into the generated markup.</p>
<pre><code>marked = require 'marked'

module.exports = (options) ->
  hasMermaid = false
  renderer = new marked.Renderer()
  renderer.defaultCode = renderer.code
  renderer.code = (code, language) ->
    if language is 'mermaid'
      html = ''
      if not hasMermaid
        hasMermaid = true
        html += '<script src="'+options.mermaidPath+'"></script>'
      html + '<div class="mermaid">'+code+'</div>'
    else
      @defaultCode(code, language)

  renderer</code></pre><h2 id="advanced-usage">Advanced usage</h2>
<p><strong>Error handling</strong></p>
<p>When the parser encounters invalid syntax the <strong>mermaid.parseError</strong> function is called. It is possible to override this
function in order to handle the error in an application specific way.</p>
<p><strong>Parsing text without rendering</strong></p>
<p>It is also possible to validate the syntax before rendering in order to streamline the user experience. The function
<strong>mermaid.parse(txt)</strong> takes a text string as an argument and returns true if the text is syntactically correct and
false if it is not. The parseError function will be called when the parse function returns false.</p>
<p>The code-example below in meta code illustrates how this could work:</p>
<pre><code>
mermaid.parseError = function(err,hash){
    displayErrorInGui(err);
};

var textFieldUpdated = function(){
    var textStr = getTextFromFormField('code');

    if(mermaid.parse(textStr)){
        reRender(textStr)
    }
};

bindEventHandler('change', 'code', textFieldUpdated);</code></pre>
            </article>
        </div>
        <section class="xlarge-20 large-20 medium-30 small-100 tiny-100">

            <a href="https://github.com/knsv/mermaid" class="github-button">Star</a>
            <a href="https://github.com/knsv/mermaid" class="github-button">Fork</a>
            <a href="https://github.com/knsv/mermaid/archive/master.zip" class="github-button">Download</a>
            <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
            <a href="https://travis-ci.org/knsv/mermaid"><img src="https://travis-ci.org/knsv/mermaid.svg?branch=master" alt="Build Status"></a>
            <a href="https://codeclimate.com/github/knsv/mermaid"><img src="https://codeclimate.com/github/knsv/mermaid/badges/gpa.svg" alt="Code Climate"></a>
            <nav id="sidenav" class="ink-navigation ink-sticky bottom-space"
                 data-bottom-element="#sticky-stop">
                <ul class="menu vertical grey" id="sections">
                    <li class="heading active"><a href="#">Index:</a></li>
                </ul>
            </nav>
        </section>
    </section>
    <div id="sticky-stop">&nbsp;</div>
</div>
<footer class="clearfix">
    <div class="ink-grid">
        <p class="note"><br/>These pages are generated from markdown source files. <a href="https://raw.githubusercontent.com/knsv/mermaid/gh-pages/docs/flowchart.md">flowchart.md</a> is an example of a markdown file which includes mermaid source.</p>
    </div>
</footer>
</body>
</html>


